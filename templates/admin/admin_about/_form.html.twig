{% block head_stylesheets %}
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <style>
        /* Custom styles for Select2 to match Tailwind design */
        .select2-container--default .select2-selection--multiple {
            border-color: #d1d5db;
            border-radius: 0.375rem;
        }
        .select2-container--default.select2-container--focus .select2-selection--multiple {
            border-color: #a5b4fc;
            box-shadow: 0 0 0 1px rgba(165, 180, 252, 0.5);
        }
        .select2-selection__choice {
            border: none !important;
            padding: 0.1rem 0.3rem !important;
            border-radius: 0.25rem !important;
            font-size: 0.875rem !important;
        }
        /* Supprime le style par défaut du X pour fermer */
        .select2-selection__choice__remove {
            color: inherit !important;
            background-color: transparent !important;
            border: none !important;
        }
        .select2-container--default .select2-selection--multiple .select2-selection__clear {
            margin-top: 2px !important;
        }
        .select2-container--default .select2-selection--multiple .select2-selection__choice {
            margin-top: 4px;
            margin-right: 4px;
        }
        .select2-selection__choice__remove {
            padding: 8px;
            border: none !important;
            border-radius: 0.25rem;
            margin-right: 4px;
            cursor: pointer;
        }
        .select2-selection__choice__display {
            margin-left: 12px;
        }
        /* RTL support */
        [dir="rtl"] .select2-container--default .select2-selection--multiple .select2-selection__choice {
            margin-left: 4px;
            margin-right: 0;
        }
    </style>
{% endblock %}

{% block head_scripts %}
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/summernote@0.9.0/dist/summernote-lite.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/summernote@0.9.0/dist/summernote-lite.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <script defer>
        const initSummernote = () => {
            if (typeof $ === 'undefined') {
                setTimeout(initSummernote, 100);
                return;
            }

            const element = $('#cgu_form_content');
            if (element.length === 0) {
                setTimeout(initSummernote, 100);
                return;
            }

            if (element.hasClass('note-editable')) {
                element.summernote('destroy');
            }
            element.summernote({
                height: 300,
                tabsize: 2,
                toolbar: [
                    ['font', ['bold', 'underline', 'clear', 'italic', 'strikethrough']],
                    ['style', ['style']],
                    ['color', ['color']],
                    ['para', ['ul', 'ol', 'paragraph']],
                    ['table', ['table']],
                    ['insert', ['link', 'picture', 'video']],
                    ['view', ['codeview', 'help']]
                ]
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            initSummernote();
        });

        document.addEventListener('turbo:load', () => {
            initSummernote();
        });

        document.addEventListener('turbo:render', () => {
            initSummernote();
        });
    </script>
{% endblock %}

<div class="mb-6">
    <h1 class="text-2xl font-bold text-gray-800">{{ title }}</h1>
    <hr class="text-gray-300 my-2">
</div>

{{ form_start(form, {'attr': {'class': 'mx-auto p-6 bg-white rounded-lg shadow-sm'}}) }}


<div class="flex flex-col gap-4">
        {{ form_row(form.title) }}
        {{ form_row(form.short_description) }}

        
        {{ form_row(form.content) }}
    </div>


    <div class="flex items-center mt-6 border-t pt-4 border-gray-300">
        <div class="flex flex-row ml-auto space-x-3 gap-1">

            <a href="{{ path('app_admin_about_index') }}" type="button" class="bg-white border border-gray-300 px-4 py-2 rounded-lg font-semibold flex items-center gap-2 text-lg text-gray-700 hover:bg-gray-50">
                Annuler
            </a>
            <button type="submit"
                    class="bg-teal-600 text-white px-4 py-2 rounded-lg flex items-center hover:bg-teal-700 transition duration-200 font-semibold cursor-pointer flex gap-2">
                   Publier
                <!-- Icône export (external link) -->
                <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16.5 6.50001L16.5 1.50001M16.5 1.50001H11.5M16.5 1.50001L9 9M7.33333 1.5H5.5C4.09987 1.5 3.3998 1.5 2.86502 1.77248C2.39462 2.01217 2.01217 2.39462 1.77248 2.86502C1.5 3.3998 1.5 4.09987 1.5 5.5V12.5C1.5 13.9001 1.5 14.6002 1.77248 15.135C2.01217 15.6054 2.39462 15.9878 2.86502 16.2275C3.3998 16.5 4.09987 16.5 5.5 16.5H12.5C13.9001 16.5 14.6002 16.5 15.135 16.2275C15.6054 15.9878 15.9878 15.6054 16.2275 15.135C16.5 14.6002 16.5 13.9001 16.5 12.5V10.6667" stroke="white" stroke-width="1.66667" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </button>
        </div>
    </div>

{{ form_row(form._token ) }}
{{ form_end(form, {'render_rest': false}) }}


<script>

</script>