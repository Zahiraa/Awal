{% extends 'public.html.twig' %}

{% block title %}{{ 'Navbar.glossaire'|trans }}
{% endblock %}

{% set termePath = path('app_proposition_new') %}
{% if is_granted('ROLE_MANAGER') or is_granted('ROLE_ADMIN') %}
	{% set termePath = path('app_admin_terme_new') %}
{% endif %}

{% block body %}

	<main class="min-h-screen bg-white">

		{% include 'components/navbar.html.twig' %}

		{#    {% include 'home/hero-section.html.twig' %}#}

		<div class="max-w-7xl mx-auto px-4 sm:px-6 py-8  relative flex flex-col lg:px-8">

			<h1 class="text-5xl font-bold text-gray-900 mb-6">
				{{ 'heroSection.title'|trans }}
				<span class="text-primary-600"><br>
					{{ 'heroSection.subTitle'|trans }}</span>
			</h1>
			<p class="text-lg text-gray-600 mb-8 leading-relaxed ">
				{{ 'heroSection.description'|trans|raw }}
			</p>

			{% include 'common/search_input.html.twig' with {
            'class': 'max-w-2xl'
        } %}
		</div>

		<section class="w-full max-w-[2000px] px-1 mx-auto">
			<div
				class="flex flex-col md:flex-row gap-4">
				<!-- Alphabetical list - vertical on desktop, horizontal on mobile -->
				<div class="md:w-12 flex md:flex-col flex-row flex-wrap md:flex-nowrap overflow-x-auto md:overflow-x-visible px-10 md:px-0">
					{% for letter in 'A'..'Z' %}
						<a href="{{ path('app_glossaire_index', {'startWith': letter}) }}" class="min-w-[38px] h-10 flex items-center justify-center font-bold transition-colors mx-0.5 md:mx-0
						    {% if letter == startWith|upper %}text-teal-50 bg-teal-600 font-semibold{% else %}bg-gray-50 text-teal-600 hover:bg-teal-600 hover:text-white hover:font-semibold{% endif %}">
						     	{{ letter }}
						</a>
					{% endfor %}
				</div>
				<div class="flex-1 mx-3 lg:mx-5 py-5 {% if results|length > 0 %} max-w-screen-2xl {% else %} max-w-screen-3xl {% endif %}">
					{% if results|length > 0 %}
						<!-- Results grid -->
						<div class="mx-auto mb-3 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 sm:gap-3 justify-items-center">
							{% for result in results %}
								<a href="{{ result.url }}" class="w-[100%] sm:w-full sm:max-w-[260px] mt-5 px-1 sm:px-2 mx-5 sm:ml-0">
									<div class="bg-white rounded-lg shadow border border-gray-200 hover:shadow-md transition-shadow h-full">
										<div
											class="p-3 divide-y divide-gray-100">
											<!-- French -->
											<div class="pb-2">
												<div class="text-base font-medium text-gray-900 truncate">
													{{ result.french|capitalize }}
												</div>
											</div>

											<!-- Darija -->
											<div class="py-2">
												<span class="text-sm text-gray-500 shrink-0 block mb-1">{{ 'langues.darija'|trans }}</span>
												<div class="text-right">
													<span class="text-teal-600 text-sm font-bold block" dir="rtl">{{ result.darija }}</span>
												</div>
											</div>

											<!-- Arabic -->
											<div class="pt-2">
												<span class="text-sm text-gray-500 shrink-0 block mb-1">{{ 'langues.arabe'|trans }}</span>
												<div class="text-right">
													<span class="text-teal-600 text-sm font-bold block" dir="rtl">{{ result.arabic }}</span>
												</div>
											</div>
										</div>
									</div>
								</a>
							{% endfor %}
						</div>

						<!-- KnpPaginatorBundle Pagination -->
						{% if results.pageCount > 1 %}
							<div class="mt-6 bg-white px-4 py-3 border-t border-gray-200 sm:px-6">
								{{ knp_pagination_render(results, 'components/pagination.html.twig') }}
							</div>
						{% endif %}
					{% else %}
						<!-- No Results State -->
						<div id="noResults" class="text-center py-12">

							<div class="flex justify-center mb-8">
								<img src="{{ asset('build/images/icons/empty-state.svg') }}" width="425" height="310" alt="No Results" class="w-full h-[140px] md:w-[425px] md:min-w-[425px] md:h-[310px] md:min-h-[310px]">
							</div>
							<h3 class="text-3xl font-semibold text-gray-900 mb-2">{{ 'Glossaire.noResults.tile'|trans }}</h3>
							<p class="text-gray-600 mb-6">
								{{ 'Glossaire.noResults.description'|trans }}
								"<b>{{ startWith|upper }}</b>".
							</p>

							<a href="{{ termePath }}" class="bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition duration-200">
								{{ 'Glossaire.noResults.button'|trans }}
							</a>
						</div>
					{% endif %}
				</div>
			</div>
		</section>

	</main>
	{% include 'components/footer.html.twig' %}
{% endblock %}

{% block head_scripts %}
	{% include 'home/_search_script.html.twig' %}
{% endblock %}
