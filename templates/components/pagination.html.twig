{#
 * Pagination template for KnpPaginatorBundle
 * Custom template with Tailwind CSS styling
 #}

<div class="flex items-center justify-between">
    <div class="flex items-center">
        {% if previous is defined %}
            <a href="{{ path(route, query|merge({(pageParameterName): previous})) }}" 
               class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition duration-150">
                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M7.707 14.707a1 1 0 01-1.414 0L2.586 11l3.707-3.707a1 1 0 011.414 1.414L5.414 11l2.293 2.293a1 1 0 010 1.414z" clip-rule="evenodd"/>
                </svg>
                Précédent
            </a>
        {% else %}
            <button disabled 
                    class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-300 bg-gray-50 border border-gray-300 rounded-md cursor-not-allowed">
                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M7.707 14.707a1 1 0 01-1.414 0L2.586 11l3.707-3.707a1 1 0 011.414 1.414L5.414 11l2.293 2.293a1 1 0 010 1.414z" clip-rule="evenodd"/>
                </svg>
                Précédent
            </button>
        {% endif %}
    </div>
    
    <div class="hidden md:flex">
        <nav class="relative z-0 inline-flex gap-1">
            {% set startPage = max(1, current - 2) %}
            {% set endPage = min(pageCount, current + 2) %}
            
            {# First page #}
            {% if startPage > 1 %}
                <a href="{{ path(route, query|merge({(pageParameterName): 1})) }}" 
                   class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white hover:bg-light-gray-300">
                    1
                </a>
                {% if startPage > 2 %}
                    <span class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300">...</span>
                {% endif %}
            {% endif %}
            
            {# Page numbers #}
            {% for page in startPage..endPage %}
                {% if page == current %}
                    <span class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-light-gray-300  {% if page == 1 and startPage == 1 %}rounded-l-md{% elseif page == pageCount and endPage == pageCount %}rounded-r-md{% endif %}">
                        {{ page }}
                    </span>
                {% else %}
                    <a href="{{ path(route, query|merge({(pageParameterName): page})) }}" 
                       class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 hover:bg-light-gray-300 {% if page == 1 and startPage == 1 %}rounded-md{% elseif page == pageCount and endPage == pageCount %}rounded-r-md{% endif %}">
                        {{ page }}
                    </a>
                {% endif %}
            {% endfor %}
            
            {# Last page #}
            {% if endPage < pageCount %}
                {% if endPage < pageCount - 1 %}
                    <span class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300">...</span>
                {% endif %}
                <a href="{{ path(route, query|merge({(pageParameterName): pageCount})) }}" 
                   class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-600 hover:bg-light-gray-300">
                    {{ pageCount }}
                </a>
            {% endif %}
        </nav>
    </div>
    
    <div class="flex items-center">
        {% if next is defined %}
            <a href="{{ path(route, query|merge({(pageParameterName): next})) }}" 
               class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-light-gray-100 rounded-md hover:bg-light-gray-300 transition duration-150">
                Suivant
                <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4.707 4.707-4.707 4.707a1 1 0 01-1.414-1.414L14.586 11l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
                </svg>
            </a>
        {% else %}
            <button disabled 
                    class="relative inline-flex items-center px-4 py-2 text-sm font-medium text-gray-300 bg-gray-50 border border-light-gray-100 rounded-md cursor-not-allowed">
                Suivant
                <svg class="w-5 h-5 ml-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4.707 4.707-4.707 4.707a1 1 0 01-1.414-1.414L14.586 11l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
                </svg>
            </button>
        {% endif %}
    </div>
</div> 