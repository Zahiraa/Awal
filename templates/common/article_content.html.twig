<div class="w-full h-full bg-white">
	<p class="text-primary-700 text-md font-semibold text-center mb-3">
		{{ article.createdAt|date("d M Y") }}
	</p>
	<h1 class="text-3xl md:text-5xl font-semibold text-gray-900 text-center mb-8">{{ article.titre }}</h1>


	<!-- Image de l'article -->
	{% if article.image %}
		{% set src = '/uploads/' ~ article.image.name %}


		<div class="flex justify-center items-center mb-8">
			<img src="{{ src }}" alt="{{ article.titre }}" class="w-full aspect-1/1 md:aspect-16/6 object-cover rounded-lg">
		</div>
	{% endif %}
	<!-- Média de l'article (Audio ou Vidéo) -->
	{% if article.media %}
		{% set mediaPath = '/uploads/' ~ article.media.name %}
		{% set mediaExtension = article.media.name|split('.')|last|lower %}

		{# Liste des extensions audio #}
		{% set audioExtensions = ['mp3', 'wav', 'ogg', 'aac', 'm4a'] %}

		{# Liste des extensions vidéo #}
		{% set videoExtensions = ['mp4', 'webm', 'mov', 'avi', 'mkv', 'ogv'] %}

		<div class="flex justify-center items-center mb-8">
			<div class="w-full max-w-3xl mx-auto">
				{% if mediaExtension in audioExtensions %}
					{# Lecteur Audio #}
					<div class="bg-gray-100 rounded-lg p-4">
						<div class="flex items-center gap-3 mb-3">
							<svg class="w-10 h-10 text-primary-600 flex-shrink-0" fill="none" stroke="currentColor" viewbox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path>
							</svg>
							<div class="flex-1 min-w-0">
								<p class="text-sm font-semibold text-gray-700 truncate">Fichier audio</p>
								<p class="text-xs text-gray-500 truncate">{{ article.media.name }}</p>
							</div>
						</div>
						<audio controls class="w-full">
							<source src="{{ mediaPath }}" type="audio/{{ mediaExtension }}">
							Votre navigateur ne supporte pas la lecture audio.
						</audio>
					</div>
				{% elseif mediaExtension in videoExtensions %}
					{# Lecteur Vidéo #}
					<div class="rounded-lg overflow-hidden bg-black">
						<video controls class="w-full max-h-[500px]" preload="metadata">
							<source src="{{ mediaPath }}" type="video/{{ mediaExtension }}">
							Votre navigateur ne supporte pas la lecture vidéo.
						</video>
					</div>
				{% endif %}
			</div>
		</div>
	{% endif %}
	<article class="prose prose-lg max-w-none mt-8 bg-white px-4 py-6">
		<div class="text-editor-content">
			{{ article.content|raw }}
		</div>
	</article>

</div>
